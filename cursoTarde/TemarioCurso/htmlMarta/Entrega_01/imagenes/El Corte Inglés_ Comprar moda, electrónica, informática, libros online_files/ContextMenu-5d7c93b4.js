import{b as I,r as V,_ as D}from"./Render-4448ec15.js";import{c as y,m as P}from"./state-0c727e5f.js";import{n as T}from"./navigatorDetect-1d2a0641.js";import{h as x,o as i,c as v,n as _,t as f,j as h,$ as H,u as Q,N as w,z as M,I as L,A as W,a as B,F as j,r as z,f as g,k as q,g as k,w as K,a5 as R}from"./vuex.esm-bundler-f8eff60d.js";import{_ as E}from"./_plugin-vue_export-helper-c27b6911.js";const G={name:"ContextMenuHeader",props:{context:{type:Object,required:!0},isActive:{type:Boolean,default:!1}},emits:["context-click"],setup(a,{emit:s}){const{isDesktopDevice:r,isTabletDevice:e}=T(),l=y("page/getInternals"),u=y("page/getBaseUrl"),c=x(()=>a.context.url),m=x(()=>a.context.has_childrens),d=x(()=>({active:a.isActive,...n(a.context.special)})),n=o=>{if(typeof o=="string")return{["special_"+o]:o!=="none"};if(typeof o=="object")return{special_color:!!o.color,special_bold:!!o.bold}},C=x(()=>{var o;return(o=a.context.special)!=null&&o.color?"--special-color: ".concat(a.context.special.color):null});return{contextClick:()=>{m.value&&(!r.value||e.value)&&s("context-click",a.context.name),c.value&&I.sendContextMenuItemAnalytics(a.context,"click botonera")},showUrlItem:c,hasChildren:m,getFullUrlWithQuery:o=>Q.getFullUrlWithQuery({url:o,baseUrl:u.value,query:l.value}),itemClass:d,specialColor:C}}},X=["href"];function J(a,s,r,e,l,u){return i(),v("div",{class:"context_menu-header",style:H(e.specialColor),onClick:s[0]||(s[0]=(...c)=>e.contextClick&&e.contextClick(...c))},[r.context.prename?(i(),v("span",{key:0,class:_(["prename",e.itemClass]),"data-custom-brand":""},f(r.context.prename),3)):h("",!0),e.showUrlItem&&!e.hasChildren?(i(),v("a",{key:1,href:e.getFullUrlWithQuery(r.context.url),"data-custom-brand":"",class:_(e.itemClass)},f(r.context.name),11,X)):h("",!0),!e.showUrlItem&&!e.hasChildren?(i(),v("span",{key:2,"data-custom-brand":"",class:_(e.itemClass)},f(r.context.name),3)):h("",!0),e.hasChildren?(i(),v("a",{key:3,"data-custom-brand":"",class:_(e.itemClass)},f(r.context.name),3)):h("",!0)],4)}const Y=E(G,[["render",J]]);const Z={name:"ContextMenu",components:{ContextMenuHeader:Y,MenuDropList:w(()=>D(()=>import("./MenuDropList-d26b196b.js"),[window.__assetsPath("assets/MenuDropList-d26b196b.js"),window.__assetsPath("assets/MenuDropItem-6f129db8.js"),window.__assetsPath("assets/vuex.esm-bundler-f8eff60d.js"),window.__assetsPath("assets/state-0c727e5f.js"),window.__assetsPath("assets/Render-4448ec15.js"),window.__assetsPath("assets/_plugin-vue_export-helper-c27b6911.js"),window.__assetsPath("assets/Render-1bf1fa90.css"),window.__assetsPath("assets/MenuDropList-49870a1e.css")],import.meta.url)),MenuDropListMobile:w(()=>D(()=>import("./MenuDropListMobile-be606f27.js"),[window.__assetsPath("assets/MenuDropListMobile-be606f27.js"),window.__assetsPath("assets/MenuDropItem-6f129db8.js"),window.__assetsPath("assets/vuex.esm-bundler-f8eff60d.js"),window.__assetsPath("assets/state-0c727e5f.js"),window.__assetsPath("assets/Render-4448ec15.js"),window.__assetsPath("assets/_plugin-vue_export-helper-c27b6911.js"),window.__assetsPath("assets/Render-1bf1fa90.css"),window.__assetsPath("assets/MenuDropList-49870a1e.css")],import.meta.url))},setup(){const{isClientMounted:a,isDesktopDevice:s,isTabletDevice:r,isMacOS:e}=T(),l=M(!1),u=M(""),c=M(""),m=M(null),d=M([]),n=y("page/getContextMenu"),C=P("page",["setVisibleContextMenu"]),b=y("page/getPlaceType"),p=x(()=>"place-".concat(b.value)),o=x(()=>{var t;return{"context-menu-container":!0,hidden:!((t=d.value)!=null&&t.length)}}),O=t=>{if(u.value!==t)return u.value=t,l.value=!0;l.value=!l.value,u.value=l.value?t:""},S=()=>{u.value="",l.value=!1},U=t=>{s.value&&(c.value=t,clearTimeout(m),m.value=setTimeout(()=>{c.value=""},300))},N=()=>{s.value&&(clearTimeout(m),c.value="")},A=t=>t===c.value,F=()=>{d.value=V(n)};return L(l,()=>{if(document.getElementsByClassName("context_menu").length===0)return;const t=document.getElementsByClassName("context_menu")[0];t&&(l.value?t.style.overflow="hidden":t.style.overflowX="auto")}),L(d,t=>{C(t.length>0)}),W(()=>{F()}),{activeName:u,closeDrop:S,contextMenu:n,menuFiltered:d,forceShowMenu:l,handleMouseEnter:N,handleMouseLeave:U,isDesktopDevice:s,isMacOS:e,isClientMounted:a,isTabletDevice:r,shouldKeepMenuOpen:A,showMenuOnMobile:O,placeClass:p,containerClass:o}}},$=["onMouseleave"];function ee(a,s,r,e,l,u){const c=g("ContextMenuHeader"),m=g("MenuDropList"),d=g("MenuDropListMobile");return i(),v("div",{class:_(e.containerClass)},[B("div",{class:_("context_menu ".concat(e.placeClass))},[B("ul",{class:_(["context_menu-list scroll-bar",{macOSMenuStyler:e.isMacOS()}])},[(i(!0),v(j,null,z(e.menuFiltered,n=>(i(),v("li",{key:n.url,class:"context_menu-item _firstLevel highlighted",onMouseleave:C=>e.handleMouseLeave(n.name),onMouseenter:s[0]||(s[0]=(...C)=>e.handleMouseEnter&&e.handleMouseEnter(...C))},[q(c,{"is-active":e.forceShowMenu&&n.name===e.activeName,context:n,onContextClick:e.showMenuOnMobile},null,8,["is-active","context","onContextClick"]),e.isClientMounted&&e.isDesktopDevice&&!e.isTabletDevice?(i(),k(m,{key:0,class:_({"keep-menu-open":e.shouldKeepMenuOpen(n.name)}),context:n},null,8,["class","context"])):(i(),k(R,{key:1,name:"fade"},{default:K(()=>[e.forceShowMenu&&n.name===e.activeName?(i(),k(d,{key:0,context:n,onClose:e.closeDrop},null,8,["context","onClose"])):h("",!0)]),_:2},1024))],40,$))),128))],2)],2)],2)}const se=E(Z,[["render",ee]]);export{se as C};
//# sourceMappingURL=ContextMenu-5d7c93b4.js.map
