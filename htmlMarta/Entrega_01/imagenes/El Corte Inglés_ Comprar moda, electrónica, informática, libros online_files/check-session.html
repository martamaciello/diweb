<!DOCTYPE html>
<html><head>
<meta http-equiv="content-type" content="text/html; charset=UTF-8"><title>OP iframe</title><script>bazadebezolkohpepadr="1332436127"</script><script type="text/javascript" src="check-session_data/4f6b5f5c" defer="defer"></script></head><body><script>/* From jbt@github/js-crypto */var sha256=function(){function e(a,b){return a>>>b|a<<32-b}for(var b=1,a,m=[],n=[];18>++b;)for(a=b*b;312>a;a+=b)m[a]=1;b=1;for(a=0;313>b;)m[++b]||(n[a]=Math.pow(b,.5)%1*4294967296|0,m[a++]=Math.pow(b,1/3)%1*4294967296|0);return function(g){for(var l=n.slice(b=0),c=unescape(encodeURI(g)),h=[],d=c.length,k=[],f,p;b<d;)k[b>>2]|=(c.charCodeAt(b)&255)<<8*(3-b++%4);d*=8;k[d>>5]|=128<<24-d%32;k[p=d+64>>5|15]=d;for(b=0;b<p;b+=16){for(c=l.slice(a=0,8);64>a;c[4]+=f)h[a]=16>a?k[a+b]:(e(f=h[a-2],17)^e(f,19)^f>>>10)+(h[a-7]|0)+(e(f=h[a-15],7)^e(f,18)^f>>>3)+(h[a-16]|0),c.unshift((f=(c.pop()+(e(g=c[4],6)^e(g,11)^e(g,25))+((g&c[5]^~g&c[6])+m[a])|0)+(h[a++]|0))+(e(d=c[0],2)^e(d,13)^e(d,22))+(d&c[1]^c[1]&c[2]^c[2]&d));for(a=8;a--;)l[a]=c[a]+l[a]}for(c="";63>a;)c+=(l[++a>>3]>>4*(7-a%8)&15).toString(16);return c}}();var origin = 'https://www.elcorteingles.es';var noAuthn = 'not_authenticated';function getSession() {var ca = document.cookie.split(';');var name = 'oidc.sid';for (var i=0; i < ca.length; i++) {var c = ca[i];while (c.charAt(0) == ' ') c = c.substring(1);if (c.indexOf(name) == 0) return c.split('=')[1];}return null;}function getBrowserState() {var sessionString = getSession();var sessionMatch = sessionString && sessionString.match('^s\%3A(.*)\.');return (sessionMatch)? sessionMatch[1].split('.')[0] : noAuthn;}function isSameOrigin(origin) {var sld = '.'+document.location.hostname.split(/\./).slice(-2).join('.');sld = sld.split(':')[0];return origin.endsWith(sld);}function receiveMessage(e) {if (typeof(e.data) !== 'string') return;if (e.origin != origin) {console.error('unknown origin in oidc check session: ' + e.origin);return;}var userAgent = navigator.userAgent || navigator.vendor || window.opera;var isIOS = ((/iPad|iPhone|iPod/).test(userAgent) && !window.MSStream);var isAndroid = (/android/i).test(userAgent);var isECIApp;var isECIAppFocus;if((/ECI-App-Mode\/elcorteingles-v2\//i).test(userAgent)){isECIAppFocus = true;} else if ((/ECI-App-Mode\/elcorteingles\//i).test(userAgent)){isECIApp = true;}if(!isSameOrigin (e.origin)) {/* En el caso de que el origen sea diferente. *//* Si no es la app antigua de eci, o es la app nueva, no se debe hacer nada *//* not working with third party cookies *//* not working with third party cookies not working in Focus APP - OTT is same origin */if( !isECIApp ) {return;}if ( isECIAppFocus ) {return;}}var browserState = getBrowserState();var state, pair, clientId, currState, salt;pair = e.data.split(' ');clientId = pair[0];currState = pair[1];if (currState) {if (currState != noAuthn) salt = currState.split('.')[1];} else {console.error ('currState value: ' + pair);}if (browserState == noAuthn) state = noAuthn;else state = [sha256([clientId, origin, browserState, salt].join(' ')), salt].join('.');if (isIOS || isAndroid) {function getCookie (cookieName) {Object.fromEntries = Object.fromEntries || (arr => arr.reduce((acc, [k, v]) => (acc[k] = v, acc), {}));var cookies = Object.fromEntries(document.cookie.split(';').map(i => i.trim().split('=')));return cookies[cookieName];}function postMessage (event, data) {var m = {};m[event] = data;if(isAndroid) {AppECI.postMessage(JSON.stringify(m));} else if(isIOS) {window.webkit.messageHandlers.AppECI.postMessage(m);}}if (getCookie('navigationMode') === 'eci-app' && state != currState) {postMessage('SESSION_EXPIRED', e.origin);}}e.source.postMessage((state == currState)? 'unchanged' : 'changed', e.origin);}window.addEventListener('message', receiveMessage, false);</script><noscript><img src="https://cuenta.elcorteingles.es/akam/13/pixel_4f6b5f5c?a=dD05ZDVjOWZmMDJkNzYwNDY2N2JkM2U1NTAwMzllNmIyNWRiYzMwMmVjJmpzPW9mZg==" style="visibility: hidden; position: absolute; left: -999px; top: -999px;" /></noscript></body></html>